<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>주소-좌표 변환 예시</title>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=c74df985d80b0746ec2b535f9e18c2a1&libraries=services,drawing"></script>
</head>
<body>
<div id="map" style="width:500px;height:400px;"></div>
<input type="text" id="address" placeholder="주소를 입력하세요" style="width:400px;"/>
<button onclick="searchAddress()">주소 검색</button>

<script>
    var mapContainer = document.getElementById('map'),
        mapOption = {
            center: new kakao.maps.LatLng(37.5665, 126.9780), // 서울 시청 좌표
            level: 3
        };

    var map = new kakao.maps.Map(mapContainer, mapOption); // 지도 생성
    var geocoder = new kakao.maps.services.Geocoder(); // 주소-좌표 변환 객체 생성
    var marker = new kakao.maps.Marker(); // 지도에 마커 생성

    // 주소로 좌표를 검색하는 함수
    function searchAddress() {
        var address = document.getElementById('address').value; // 입력한 주소 가져오기

        // 주소로 좌표를 검색
        geocoder.addressSearch(address, function(result, status) {
            if (status === kakao.maps.services.Status.OK) {
                var coords = new kakao.maps.LatLng(result[0].y, result[0].x);

                // 좌표에 마커 표시
                marker.setPosition(coords);
                marker.setMap(map);

                // 지도 중심 이동
                map.setCenter(coords);

                // 여기서 얻은 좌표로 아파트 API 요청 가능
                console.log("위도:", result[0].y, "경도:", result[0].x);
            } else {
                alert('주소를 찾을 수 없습니다.');
            }
        });
    }
</script>
</body>
</html>
